# =================================
# Server Configuration
# =================================
# The port the server will listen on
PORT=3000

# Node environment (development, test, production)
NODE_ENV=development

# API version prefix
API_VERSION=v1

# =================================
# Firebase Configuration
# =================================
# Firebase project ID
FIREBASE_PROJECT_ID=receiptscan-dev

# Firebase private key (JSON service account key)
# For local development: path to service account JSON file
# For production: store the entire JSON content as a secret
FIREBASE_PRIVATE_KEY_PATH=./serviceAccountKey.json

# Firebase storage bucket
FIREBASE_STORAGE_BUCKET=receiptscan-dev.appspot.com

# Firebase database URL
FIREBASE_DATABASE_URL=https://receiptscan-dev.firebaseio.com

# =================================
# OpenAI Configuration
# =================================
# OpenAI API key for receipt parsing with GPT-4 Vision
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# OpenAI model to use for receipt parsing
OPENAI_MODEL=gpt-4-vision-preview

# Maximum tokens for OpenAI responses
OPENAI_MAX_TOKENS=1000

# =================================
# Stripe Configuration
# =================================
# Stripe secret key (test key for development, live key for production)
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Stripe publishable key
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Stripe webhook secret for verifying webhook signatures
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Stripe price IDs for subscription tiers
STRIPE_PRICE_ID_PRO=price_xxxxxxxxxxxxxxxxxxxxxxxx

# =================================
# Security & Rate Limiting
# =================================
# JWT secret for token generation (if using custom JWT)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Allowed CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://receiptscan.ai,https://app.receiptscan.ai

# Rate limit: requests per minute for general endpoints
RATE_LIMIT_GENERAL=100

# Rate limit: requests per minute for upload endpoints
RATE_LIMIT_UPLOAD=10

# Rate limit: requests per hour for export endpoints
RATE_LIMIT_EXPORT=5

# =================================
# File Upload Configuration
# =================================
# Maximum file size in MB
MAX_FILE_SIZE_MB=10

# Allowed file types (comma-separated MIME types)
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/jpg,application/pdf

# =================================
# Logging Configuration
# =================================
# Log level (error, warn, info, http, verbose, debug, silly)
LOG_LEVEL=info

# Log format (json, simple)
LOG_FORMAT=json

# =================================
# Google Cloud Vision (Optional Fallback)
# =================================
# Google Cloud Vision API key (optional, for fallback OCR)
GOOGLE_CLOUD_VISION_API_KEY=

# =================================
# Database Configuration
# =================================
# Firestore collection names (optional, defaults are provided)
COLLECTION_USERS=users
COLLECTION_RECEIPTS=receipts
COLLECTION_AUDIT_LOGS=audit_logs

# =================================
# Subscription Limits
# =================================
# Free tier monthly receipt limit
FREE_TIER_MONTHLY_LIMIT=10

# Pro tier monthly receipt limit (0 = unlimited)
PRO_TIER_MONTHLY_LIMIT=0
